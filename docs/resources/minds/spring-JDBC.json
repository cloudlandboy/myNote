{"root":{"data":{"text":"Spring-JDBC","expandState":"expand"},"children":[{"data":{"text":"spring整合JDBC","expandState":"collapse"},"children":[{"data":{"text":"spring提供了很多模板整合Dao技术","expandState":"collapse"},"children":[{"data":{"image":"https://i.postimg.cc/wT5tSSz6/4m1upbd3kvis7o3mnh95l2ailf.png","imageTitle":"4m1upbd3kvis7o3mnh95l2ailf.png","imageSize":{"width":200,"height":80},"text":" "},"children":[]}]},{"data":{"text":"spring中提供了一个可以操作数据库的对象.对象封装了jdbc技术.","expandState":"collapse"},"children":[{"data":{"text":"JDBCTemplate","note":" > JDBC模板对象\n \n  与DBUtils中的QueryRunner非常相似."},"children":[]},{"data":{"image":"https://i.postimg.cc/HkBrLXjR/3a2sfv9fcedd40pf450447k9ua.png","imageTitle":"HkBrLXjR/3a2sfv9fcedd40pf450447k9ua.png","imageSize":{"width":200,"height":83},"text":" "},"children":[]}]},{"data":{"text":"步骤","expandState":"collapse"},"children":[{"data":{"text":"导包","expandState":"collapse"},"children":[{"data":{"text":"4+2"},"children":[]},{"data":{"text":"spring-test\nspring-aop\njunit4类库"},"children":[]},{"data":{"text":"c3p0连接池\r\nJDBC驱动"},"children":[]},{"data":{"text":"spring-jdbc\r\nspring-tx事务"},"children":[]}]},{"data":{"text":"准备数据库","expandState":"collapse"},"children":[{"data":{"id":"bzr7i37ptf40","created":1578567571818,"image":"https://i.postimg.cc/gJwXQjz5/2f1kk2j6cpuudjkipp3t9u9fhd.png","imageTitle":"gJwXQjz5/2f1kk2j6cpuudjkipp3t9u9fhd.png","imageSize":{"width":200,"height":165},"text":" "},"children":[]}]},{"data":{"text":"书写Dao","expandState":"collapse"},"children":[{"data":{"text":"增删改","note":"继承JdbcDaoSupport","expandState":"collapse"},"children":[{"data":{"id":"bzr7ohroygw0","created":1578568073686,"text":" ","image":"https://i.postimg.cc/yx4dGTrg/4o4b0l7me9kbkukkake4shnpvm.png","imageTitle":"yx4dGTrg/4o4b0l7me9kbkukkake4shnpvm.png","imageSize":{"width":200,"height":100}},"children":[]}]},{"data":{"text":"查询单个对象","expandState":"collapse"},"children":[{"data":{"id":"bzr7p4oqzmo0","created":1578568123574,"text":" ","image":"https://i.postimg.cc/9XZz7vrG/2v1jr5c5f786j1ev8frf7j5eev.png","imageTitle":"9XZz7vrG/2v1jr5c5f786j1ev8frf7j5eev.png","imageSize":{"width":200,"height":70}},"children":[]}]},{"data":{"text":"查询值类型","expandState":"collapse"},"children":[{"data":{"id":"bzr7pp4se4w0","created":1578568168079,"text":" ","image":"https://i.postimg.cc/wTYy49Sf/2t4cm8o1iu0f0a5d8n9ch0i5fl.png","imageTitle":"wTYy49Sf/2t4cm8o1iu0f0a5d8n9ch0i5fl.png","imageSize":{"width":200,"height":34}},"children":[]}]},{"data":{"text":"查询list集合类型","expandState":"collapse"},"children":[{"data":{"id":"bzr7q6sqg340","created":1578568206532,"text":" ","image":"https://i.postimg.cc/Dz0840XZ/3b2i4mgiq02c948pnderm186ld.png","imageTitle":"Dz0840XZ/3b2i4mgiq02c948pnderm186ld.png","imageSize":{"width":200,"height":74}},"children":[]}]}]},{"data":{"text":"spring配置","expandState":"collapse"},"children":[{"data":{"text":"依赖关系","expandState":"collapse"},"children":[{"data":{"image":"https://i.postimg.cc/0jYQ1JLt/2mo9860totvpivj4fjaa62sgak.png","imageTitle":"0jYQ1JLt/2mo9860totvpivj4fjaa62sgak.png","imageSize":{"width":137,"height":200},"text":" "},"children":[]}]},{"data":{"image":"https://i.postimg.cc/85WkL6P1/4ruhe6ug5vlob4uhobicb91gdf.png","imageTitle":"85WkL6P1/4ruhe6ug5vlob4uhobicb91gdf.png","imageSize":{"width":200,"height":46}},"children":[]},{"data":{"image":"https://i.postimg.cc/DwgXbRpC/62jhtum9bn6bj3v0mpv21f6s05.png","imageTitle":"DwgXbRpC/62jhtum9bn6bj3v0mpv21f6s05.png","imageSize":{"width":200,"height":27}},"children":[]},{"data":{"text":" ","image":"https://i.postimg.cc/Dzp4xLTL/2oioje4qfhe99lbndo276a9fd9.png","imageTitle":"2oioje4qfhe99lbndo276a9fd9.png","imageSize":{"width":200,"height":36}},"children":[]}]},{"data":{"text":"测试","expandState":"collapse"},"children":[{"data":{"image":"https://i.postimg.cc/9Mq01k1H/1phcg3c0vl0ns7e905bh0sfkih.png","imageTitle":"1phcg3c0vl0ns7e905bh0sfkih.png","imageSize":{"width":200,"height":48},"text":" "},"children":[]},{"data":{"image":"https://i.postimg.cc/qMrqXj3W/12lu42eukkj65uo3ac0o7uoa4b.png","imageTitle":"qMrqXj3W/12lu42eukkj65uo3ac0o7uoa4b.png","imageSize":{"width":200,"height":183}},"children":[]},{"data":{"image":"https://i.postimg.cc/DZtJThmz/60akejeih020s2rvmumgslpudq.png","imageTitle":"DZtJThmz/60akejeih020s2rvmumgslpudq.png","imageSize":{"width":200,"height":194}},"children":[]}]}]},{"data":{"text":"进阶内容","expandState":"collapse"},"children":[{"data":{"text":"JDBCDaoSupport","expandState":"collapse"},"children":[{"data":{"note":"```\npublic class UserDaoImpl extends JdbcDaoSupport \n\n```","text":"dao继承"},"children":[]},{"data":{"image":"https://i.postimg.cc/9QncSpDm/47o9d2uvdqvs991vhdfs1bs5cf.png","imageTitle":"47o9d2uvdqvs991vhdfs1bs5cf.png","imageSize":{"width":200,"height":123},"text":" "},"children":[]},{"data":{"image":"https://i.postimg.cc/fbVRTPGS/0vvq7mjgmq7acmqkd5bf21u6v2.png","imageTitle":"0vvq7mjgmq7acmqkd5bf21u6v2.png","imageSize":{"width":200,"height":40}},"children":[]}]},{"data":{"text":"读取外部的Properties配置","expandState":"collapse"},"children":[{"data":{"text":"注意加前缀","note":"```\njdbc.driverClass=com.mysql.jdbc.Driver\njdbc.url=jdbc:mysql:///spring\njdbc.username=root\njdbc.password=root\n\n```"},"children":[]},{"data":{"image":"https://i.postimg.cc/8CYsRGRb/6dnlu56ahq39qjh7togtoit63p.png","imageTitle":"8CYsRGRb/6dnlu56ahq39qjh7togtoit63p.png","imageSize":{"width":200,"height":20},"text":" "},"children":[]},{"data":{"image":"https://i.postimg.cc/90Z4XkqY/4800r0iidcpo2413ciddureu55.png","imageTitle":"4800r0iidcpo2413ciddureu55.png","imageSize":{"width":200,"height":39},"text":" "},"children":[]}]}]}]},{"data":{"text":"spring中aop事务","expandState":"collapse"},"children":[{"data":{"text":"事务","expandState":"collapse"},"children":[{"data":{"text":"事务特性:acid"},"children":[]},{"data":{"text":"事务并发问题","expandState":"collapse"},"children":[{"data":{"text":"脏读"},"children":[]},{"data":{"text":"不可重复读"},"children":[]},{"data":{"text":"幻读"},"children":[]}]},{"data":{"text":"事务的隔离级别","expandState":"collapse"},"children":[{"data":{"text":"1 读未提交\r\n2 读已提交\r\n4 可重复读\r\n8 串行化"},"children":[]}]}]},{"data":{"text":"spring封装了事务管理代码","expandState":"collapse"},"children":[{"data":{"text":"事务操作","expandState":"collapse"},"children":[{"data":{"text":"打开事务"},"children":[]},{"data":{"text":"提交事务"},"children":[]},{"data":{"text":"回滚事务"},"children":[]}]},{"data":{"text":"事务操作对象","expandState":"collapse"},"children":[{"data":{"text":"因为在不同平台,操作事务的代码各不相同.spring提供了一个接口"},"children":[]},{"data":{"text":"PlatformTransactionManager 接口","expandState":"collapse"},"children":[{"data":{"text":"DataSourceTransactionManager"},"children":[]},{"data":{"text":"HibernateTransitionmanager"},"children":[]},{"data":{"text":"注意:在spring中玩事务管理.最为核心的对象就是TransactionManager对象"},"children":[]}]},{"data":{"text":"spring管理事务的属性介绍","expandState":"collapse"},"children":[{"data":{"text":"事务的隔离级别","expandState":"collapse"},"children":[{"data":{"text":"1 读未提交\r\n2 读已提交\r\n4 可重复读\r\n8 串行化"},"children":[]}]},{"data":{"text":"是否只读","expandState":"collapse"},"children":[{"data":{"text":"true 只读\r\nfalse 可操作"},"children":[]}]},{"data":{"text":"事务的传播行为","expandState":"collapse","note":"**保证同一个事务中**\n- `PROPAGATION_REQUIRED` 支持当前事务，如果不存在 就新建一个(默认)\n- `PROPAGATION_SUPPORTS` 支持当前事务，如果不存在，就不使用事务\n- `PROPAGATION_MANDATORY` 支持当前事务，如果不存在，抛出异常\n\n**保证没有在同一个事务中**\n- `PROPAGATION_REQUIRES_NEW` 如果有事务存在，挂起当前事务，创建一个新的事务\n- `PROPAGATION_NOT_SUPPORTED` 以非事务方式运行，如果有事务存在，挂起当前事务\n- `PROPAGATION_NEVER `以非事务方式运行，如果有事务存在，抛出异常\n- `PROPAGATION_NESTED` 如果当前事务存在，则嵌套事务执行"},"children":[{"data":{"image":"https://i.postimg.cc/SKHNXr4T/1pf7lmq5qbivaia2qqpug83orc.png","imageTitle":"1pf7lmq5qbivaia2qqpug83orc.png","imageSize":{"width":200,"height":132},"text":" "},"children":[]}]}]}]}]},{"data":{"text":"spring管理事务方式","expandState":"collapse"},"children":[{"data":{"text":"编码式","expandState":"collapse"},"children":[{"data":{"text":"1.将核心事务管理器配置到spring容器","expandState":"collapse"},"children":[{"data":{"image":"https://i.postimg.cc/pdLnQkgP/27ij9o66a2r0m4c17kch9crghp.png","imageTitle":"27ij9o66a2r0m4c17kch9crghp.png","imageSize":{"width":200,"height":17},"text":" "},"children":[]}]},{"data":{"text":"2.配置TransactionTemplate模板","expandState":"collapse"},"children":[{"data":{"image":"https://i.postimg.cc/dQyZ9hSZ/1hfm475k1c95run1iu883g0gqb.png","imageTitle":"dQyZ9hSZ/1hfm475k1c95run1iu883g0gqb.png","imageSize":{"width":200,"height":18},"text":" "},"children":[]}]},{"data":{"text":"3.将事务模板注入Service","expandState":"collapse"},"children":[{"data":{"image":"https://i.postimg.cc/WzvN81h0/7kfar9rr9dcrm1u8228c3pepf4.png","imageTitle":"7kfar9rr9dcrm1u8228c3pepf4.png","imageSize":{"width":200,"height":29},"text":" "},"children":[]}]},{"data":{"text":"4.在Service中调用模板","expandState":"collapse"},"children":[{"data":{"image":"https://i.postimg.cc/QdXBs0Nc/2clfcjrdundqpe5p04vsmctrmm.png","imageTitle":"QdXBs0Nc/2clfcjrdundqpe5p04vsmctrmm.png","imageSize":{"width":200,"height":73},"text":" "},"children":[]}]}]},{"data":{"text":"xml配置(aop)","expandState":"collapse"},"children":[{"data":{"text":"1.导包","expandState":"expand","note":"- aop\n- aspect\n- aop联盟\n- weaving织入包"},"children":[]},{"data":{"text":"2.导入新的约束(tx)","expandState":"collapse","note":"http://www.springframework.org/schema/beans \nhttp://www.springframework.org/schema/beans/spring-beans.xsd\nhttp://www.springframework.org/schema/context \nhttp://www.springframework.org/schema/context/spring-context-4.3.xsd\nhttp://www.springframework.org/schema/aop \nhttp://www.springframework.org/schema/aop/spring-aop-4.3.xsd\nhttp://www.springframework.org/schema/tx \nhttp://www.springframework.org/schema/tx/spring-tx-4.3.xsd\""},"children":[{"data":{"image":"https://i.postimg.cc/T37Pxx4X/1rln5igi30rp99bjiag1v5cpba.png","imageTitle":"T37Pxx4X/1rln5igi30rp99bjiag1v5cpba.png","imageSize":{"width":200,"height":57}},"children":[]},{"data":{"text":"beans: 最基本\r\ncontext:读取properties配置\r\naop:配置aop\r\ntx:配置事务通知"},"children":[]}]},{"data":{"text":"3.配置通知","expandState":"collapse"},"children":[{"data":{"image":"https://i.postimg.cc/W1b4xzSn/60pa3h3kpsc5t92hiigfq6uet8.png","imageTitle":"60pa3h3kpsc5t92hiigfq6uet8.png","imageSize":{"width":200,"height":79},"text":" "},"children":[]}]},{"data":{"text":"4.配置将通知织入目标","expandState":"collapse"},"children":[{"data":{"image":"https://i.postimg.cc/fT5z7ZZ0/7pop9aq8dd646s7q3rabg58kkc.png","imageTitle":"7pop9aq8dd646s7q3rabg58kkc.png","imageSize":{"width":200,"height":47}},"children":[]}]}]},{"data":{"text":"注解配置(aop)","expandState":"collapse"},"children":[{"data":{"text":"1.导包","expandState":"expand","note":"- aop\n- aspect\n- aop联盟\n- weaving织入包"},"children":[]},{"data":{"text":"2.导入新的约束(tx)","expandState":"expand"},"children":[]},{"data":{"text":"3.开启注解管理事务","expandState":"expand","note":"\t<!-- 开启注解模式  -->\n\t<tx:annotation-driven transaction-manager=\"transactionManager\"/>"},"children":[]},{"data":{"id":"bzr8i3q6xs80","created":1578570394045,"text":"4.使用注解","expandState":"collapse"},"children":[{"data":{"id":"bzr8i3q6vnk0","created":1578570394045,"text":"加在类上","expandState":"expand","image":"https://i.postimg.cc/HkHMnTzc/4gg2rq9j9fjt4i1ddvgur87o2g.png","imageTitle":"4gg2rq9j9fjt4i1ddvgur87o2g.png","imageSize":{"width":200,"height":9}},"children":[]},{"data":{"id":"bzr8i3q72dk0","created":1578570394045,"text":"加在方法上","image":"https://i.postimg.cc/pXBT0zQr/1gqccb2augoc05ma0lic1l8ju2.png","imageTitle":"1gqccb2augoc05ma0lic1l8ju2.png","imageSize":{"width":200,"height":9}},"children":[]}]}]},{"data":{"image":"https://i.postimg.cc/v8rHBfNh/0fkki6uogv9gkuc0nqplrfv3i9.png","imageTitle":"0fkki6uogv9gkuc0nqplrfv3i9.png","imageSize":{"width":200,"height":119},"text":" "},"children":[]}]}]}]},"template":"default","theme":"fresh-blue","version":"1.4.43"}