{"root":{"data":{"text":"mybatis初始化与执行sql过程","expandState":"expand"},"children":[{"data":{"text":"初始化","expandState":"collapse"},"children":[{"data":{"text":"概念","expandState":"expand"},"children":[{"data":{"text":"可以这么说，MyBatis初始化的过程，就是创建 Configuration对象的过程"},"children":[]}]},{"data":{"text":"过程","expandState":"expand"},"children":[{"data":{"text":"加载配置文件mybatis-config.xml到MyBatis内部","priority":1,"expandState":"collapse"},"children":[{"data":{"text":" ","image":"https://i.postimg.cc/ZYw8PCgG/202001121200.png","imageTitle":"202001121200.png","imageSize":{"width":200,"height":157}},"children":[]}]},{"data":{"text":"使用 org.apache.ibatis.session.Configuration对象作为一个所有配置信息的容器，Configuration对象的组织结构和XML配置文件的组织结构几乎完全一样，\r\n这样配置文件的信息就存到了Configuration这个类中了","priority":2},"children":[]}]},{"data":{"text":"流程图","expandState":"expand"},"children":[{"data":{"text":" ","image":"https://i.postimg.cc/BQtxmJfX/202001121201.png","imageTitle":"02001121201.png","imageSize":{"width":200,"height":138}},"children":[]}]}]},{"data":{"text":"sql执行总体流程","expandState":"collapse"},"children":[{"data":{"text":"加载配置并初始化","expandState":"expand","note":"加载配置文件，将SQL的配置信息加载成为一个个MappedStatement对象（包括了传入参数映射配置、执行的SQL语句、结果映射配置），存储在内存中"},"children":[]},{"data":{"text":"接收调用请求","expandState":"collapse"},"children":[{"data":{"text":"触发条件：","expandState":"collapse"},"children":[{"data":{"text":"调用Mybatis提供的API"},"children":[]}]},{"data":{"text":"传入参数：","expandState":"collapse"},"children":[{"data":{"text":"为SQL的ID和传入参数对象"},"children":[]}]},{"data":{"text":"处理过程：","expandState":"collapse"},"children":[{"data":{"text":"将请求传递给下层的请求处理层进行处理。"},"children":[]}]}]},{"data":{"text":"处理操作请求","expandState":"collapse"},"children":[{"data":{"text":"触发条件：","expandState":"collapse"},"children":[{"data":{"text":"API接口层传递请求过来"},"children":[]}]},{"data":{"text":"传入参数：","expandState":"collapse"},"children":[{"data":{"text":"为SQL的ID和传入参数对象"},"children":[]}]},{"data":{"text":"处理过程：","expandState":"collapse"},"children":[{"data":{"text":"(A)根据SQL的ID查找对应的MappedStatement对象。"},"children":[]},{"data":{"text":"(B)根据传入参数对象解析MappedStatement对象，得到最终要执行的SQL和执行传入参数。"},"children":[]},{"data":{"text":"(C)获取数据库连接，根据得到的最终SQL语句和执行传入参数到数据库执行，并得到执行结果。"},"children":[]},{"data":{"text":"(D)根据MappedStatement对象中的结果映射配置对得到的执行结果进行转换处理，并得到最终的处理结果"},"children":[]},{"data":{"text":"(E)释放连接资源。"},"children":[]},{"data":{"text":"(4)返回处理结果将最终的处理结果返回。"},"children":[]}]}]},{"data":{"text":"整体执行流程图","hyperlink":null,"hyperlinkTitle":null,"expandState":"collapse"},"children":[{"data":{"id":"bztj46zmjeg0","created":1578803456170,"text":" ","image":"https://i.postimg.cc/BvDVVxD7/2019062319433043.png","imageTitle":"2019062319433043.png","imageSize":{"width":200,"height":174}},"children":[]}]}]}]},"template":"default","theme":"fresh-blue","version":"1.4.43"}