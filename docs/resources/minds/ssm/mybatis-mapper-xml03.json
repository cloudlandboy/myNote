{"root":{"data":{"text":"mapper的xml文件（三）","expandState":"expand"},"children":[{"data":{"text":"sql","expandState":"collapse"},"children":[{"data":{"text":"概念"},"children":[{"data":{"text":"这个元素可以被用来定义可重用的 SQL 代码段，可以包含在其他语句中。\n它可以被静态地(在加载参数) 参数化. 不同的属性值通过包含的实例变化."},"children":[]},{"data":{"text":"属性值可以用于包含的refid属性或者包含的字句里面的属性值"},"children":[]}]},{"data":{"text":"例子","expandState":"expand","image":"https://i.postimg.cc/RF02cvzv/20200112204725.png","imageTitle":"20200112204725.png","imageSize":{"width":200,"height":105}},"children":[]}]},{"data":{"text":"参数（Parameters）","expandState":"collapse"},"children":[{"data":{"text":"例子","expandState":"collapse"},"children":[{"data":{"text":"<insert id=\"insertUser\" parameterType=\"User\">\r\n  insert into users (id, username, password)\r\n  values (#{id}, #{username}, #{password})\r\n</insert>","background":"#c7edcc"},"children":[]},{"data":{"text":"如果 User 类型的参数对象传递到了语句中，id、username 和 password 属性将会被查找，然后将它们的值传入预处理语句的参数中"},"children":[]}]},{"data":{"text":"参数也可以指定一个特殊的数据类型","expandState":"collapse"},"children":[{"data":{"text":"#{property,javaType=int,jdbcType=NUMERIC}","background":"#c7edcc"},"children":[]},{"data":{"text":"javaType 通常可以从参数对象中来去确定，前提是只要对象不是一个 HashMap。\r\n那么 javaType 应该被确定来保证使用正确类型处理器"},"children":[]},{"data":{"id":"bzttrsxhiyo0","created":1578833517405,"text":"为了以后定制类型处理方式，你也可以指定一个特殊的类型处理器类（或别名）","expandState":"collapse"},"children":[{"data":{"id":"bzttrvgtczs0","created":1578833522927,"text":"#{age,javaType=int,jdbcType=NUMERIC,typeHandler=MyTypeHandler}","background":"#c7edcc"},"children":[]}]}]}]},{"data":{"text":"字符串替换","expandState":"collapse"},"children":[{"data":{"text":"概念","expandState":"collapse"},"children":[{"data":{"text":"使用$符号代替#设置值"},"children":[]},{"data":{"text":"默认情况下,使用#{}格式的语法会导致 MyBatis 创建预处理语句属性并安全地设置值（比如?）"},"children":[]},{"data":{"text":"这样做更安全，更迅速，通常也是首选做法，不过有时你只是想直接在 SQL 语句中插入一个不改变的字符串"},"children":[]}]},{"data":{"text":"例子","expandState":"collapse"},"children":[{"data":{"text":"ORDER BY ${columnName}"},"children":[]}]},{"data":{"text":"注意","expandState":"collapse","color":"#ff0000"},"children":[{"data":{"text":"以这种方式接受从用户输出的内容并提供给语句中不变的字符串是不安全的，会导致潜在的 SQL 注入攻击，因此要么不允许用户输入这些字段，要么自行转义并检验。"},"children":[]}]}]}]},"template":"default","theme":"fresh-blue","version":"1.4.43"}