{"root":{"data":{"text":"mybatis与spring整合","expandState":"expand"},"children":[{"data":{"text":"添加MyBatis-Spring包","expandState":"collapse"},"children":[{"data":{"text":"概念","expandState":"collapse"},"children":[{"data":{"text":"MyBatis-Spring 会帮助你将 MyBatis 代码无缝地整合到 Spring 中"},"children":[]},{"data":{"text":"使用这个类库中的类, Spring 将会加载必要的 MyBatis 工厂类和 session 类"},"children":[]},{"data":{"text":"这个类库也提供一个简单的方式来注入 MyBatis 数据映射器和 SqlSession 到业务层的 bean 中"},"children":[]},{"data":{"text":"而且它也会处理事务, 翻译 MyBatis 的异常到 Spring 的 DataAccessException 异常(数据访问异常,译者注)中"},"children":[]}]},{"data":{"text":"安装","expandState":"expand","note":"```\n\n<dependency>\n\t<groupId>org.mybatis</groupId>\n\t<artifactId>mybatis-spring</artifactId>\n\t<version>x.x.x</version>\n</dependency>\n\n```"},"children":[]}]},{"data":{"text":"配置SqlSessionFactory","expandState":"collapse"},"children":[{"data":{"text":"概念","expandState":"collapse"},"children":[{"data":{"text":"直接在spring的上下文配置就可以"},"children":[]},{"data":{"text":"整合后，可以不需要单独的mybatis配置文件，全部的配置内容都可以在spring的上下文当中"},"children":[]}]},{"data":{"text":"在spring配置文件中","expandState":"collapse"},"children":[{"data":{"text":" ","image":"https://i.postimg.cc/SxWH0Mvj/20200112194346.png","imageTitle":"20200112194346.png","imageSize":{"width":200,"height":50}},"children":[]},{"data":{"text":"注意","expandState":"collapse"},"children":[{"data":{"text":"dataSource是数据源配置，常用有DBCP，C3P0，Druid等"},"children":[]},{"data":{"text":"mapperLocations是指接口xml的文件配置，如果不配置的话映射接口类文件(.java)和映射XML文件(.xml)需要放在相同的包下\n\nmapperLocations好像和mybatis-config.xml的mappers功能相似，两个不需要同时配。"},"children":[]},{"data":{"text":"configLocation不是必须的，如果没有全局配置文件可以去掉"},"children":[]}]}]}]},{"data":{"text":"配置数据映射器类","expandState":"collapse"},"children":[{"data":{"text":"两种方法","expandState":"collapse"},"children":[{"data":{"text":"方法一：利用xml来进行显示的逐一配置","expandState":"collapse"},"children":[{"data":{"text":"mapper很多的话就会很麻烦"},"children":[]}]},{"data":{"text":"方法二：利用mybatis-spring提供的自动扫描机制","expandState":"collapse"},"children":[{"data":{"text":"<mybatis:scan base-package=\"org.mybatis.spring.sample.mapper\" />"},"children":[]}]}]}]}]},"template":"default","theme":"fresh-blue","version":"1.4.43"}