{"root":{"data":{"text":"#{}和${}的区别","expandState":"expand"},"children":[{"data":{"text":"#{}","expandState":"collapse"},"children":[{"data":{"text":"解读","expandState":"expand"},"children":[{"data":{"text":"使用#{}格式的语法在mybatis中使用Preparement语句来安全的设置值"},"children":[]},{"data":{"text":"PreparedStatement ps = conn.prepareStatement(sql);\r\nps.setInt(1,id);","background":"#c7edcc"},"children":[]}]},{"data":{"text":"例子","expandState":"collapse"},"children":[{"data":{"text":"执行SQL：Select * from emp where name = #{employeeName}"},"children":[]},{"data":{"text":"参数：employeeName=\"Smith\""},"children":[]},{"data":{"text":"解析后执行的SQL：Select * from emp where name = 'Smith'"},"children":[]}]},{"data":{"text":"#方式能够很大程度防止sql注入"},"children":[]}]},{"data":{"text":"${}","expandState":"collapse"},"children":[{"data":{"text":"解读","expandState":"collapse"},"children":[{"data":{"text":"有时你只是想直接在 SQL 语句中插入一个不改变的字符串。比如，像 ORDER BY"},"children":[]},{"data":{"text":"$将传入的数据直接显示生成在sql中"},"children":[]},{"data":{"text":"Statement st = conn.createStatement();\r\nResultSet rs = st.executeQuery(sql);"},"children":[]}]},{"data":{"text":"例子","expandState":"collapse"},"children":[{"data":{"text":"执行SQL：Select * from emp where name = ${employeeName}"},"children":[]},{"data":{"text":"参数：employeeName=\"Smith\""},"children":[]},{"data":{"text":"解析后执行的SQL：Select * from emp where name =Smith","note":"此时Smith如果不是一个列名就会报错，\n正确的写法是\n\nSelect * from emp where name ='${Smith}'"},"children":[]}]}]},{"data":{"text":"总结","expandState":"collapse"},"children":[{"data":{"text":"#方式能够很大程度防止sql注入，$方式无法防止Sql注入"},"children":[]},{"data":{"text":"$方式一般用于传入数据库对象"},"children":[]},{"data":{"text":"使用$要么不允许用户输入这些字段，要么自行转义并检验。"},"children":[]},{"data":{"text":"一般能用#的就别用$"},"children":[]}]}]},"template":"default","theme":"fresh-blue","version":"1.4.43"}